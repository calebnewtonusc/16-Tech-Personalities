(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{86516:function(e,t,s){Promise.resolve().then(s.bind(s,52393))},79205:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var r=s(2265);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&s.indexOf(e)===t).join(" ")};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,r.forwardRef)((e,t)=>{let{color:s="currentColor",size:a=24,strokeWidth:d=2,absoluteStrokeWidth:i,className:c="",children:o,iconNode:x,...m}=e;return(0,r.createElement)("svg",{ref:t,...l,width:a,height:a,stroke:s,strokeWidth:i?24*Number(d)/Number(a):d,className:n("lucide",c),...m},[...x.map(e=>{let[t,s]=e;return(0,r.createElement)(t,s)}),...Array.isArray(o)?o:[o]])}),i=(e,t)=>{let s=(0,r.forwardRef)((s,l)=>{let{className:i,...c}=s;return(0,r.createElement)(d,{ref:l,iconNode:t,className:n("lucide-".concat(a(e)),i),...c})});return s.displayName="".concat(e),s}},95805:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(79205).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},99376:function(e,t,s){"use strict";var r=s(35475);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},52393:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return h}});var r=s(57437),a=s(2265),n=s(52582),l=s(99376),d=s(5526),i=s(79205);let c=(0,i.Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),o=(0,i.Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);var x=s(95805);let m=(0,i.Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);function h(){var e;let{user:t,loading:s}=(0,n.a)(),i=(0,l.useRouter)(),[h,u]=(0,a.useState)("analytics"),[y,p]=(0,a.useState)([]),[b,f]=(0,a.useState)([]),[g,j]=(0,a.useState)(null),[k,N]=(0,a.useState)(!0);async function v(){let e=(0,d.eI)(),{data:t}=await e.from("personality_profiles").select("*").order("type_code");t&&p(t);let{data:s}=await e.from("tech_roles").select("*").order("name");s&&f(s);let{data:r}=await e.from("quiz_results").select("personality_type, created_at");if(r){let e={};r.forEach(t=>{e[t.personality_type]=(e[t.personality_type]||0)+1}),j({totalResults:r.length,typeDistribution:Object.entries(e).map(e=>{let[t,s]=e;return{type:t,count:s}}).sort((e,t)=>t.count-e.count),recentResults:r.slice(0,10)})}N(!1)}return((0,a.useEffect)(()=>{if(!s&&!t){i.push("/auth/login");return}t&&v()},[t,s,i]),s||k)?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-white to-primary-50 dark:from-secondary-950 dark:to-secondary-900",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary-500 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-secondary-600 dark:text-secondary-400",children:"Loading admin panel..."})]})}):(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-white to-primary-50 dark:from-secondary-950 dark:to-secondary-900 py-8",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-8",children:[(0,r.jsx)(c,{className:"w-8 h-8 text-primary-500"}),(0,r.jsx)("h1",{className:"text-3xl font-bold text-secondary-900 dark:text-white",children:"Admin Dashboard"})]}),(0,r.jsxs)("div",{className:"flex gap-4 mb-8 border-b border-secondary-200 dark:border-secondary-700",children:[(0,r.jsx)("button",{onClick:()=>u("analytics"),className:"px-6 py-3 font-semibold transition-colors ".concat("analytics"===h?"text-primary-600 dark:text-primary-400 border-b-2 border-primary-500":"text-secondary-600 dark:text-secondary-400 hover:text-primary-500"),children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(o,{className:"w-5 h-5"}),"Analytics"]})}),(0,r.jsx)("button",{onClick:()=>u("profiles"),className:"px-6 py-3 font-semibold transition-colors ".concat("profiles"===h?"text-primary-600 dark:text-primary-400 border-b-2 border-primary-500":"text-secondary-600 dark:text-secondary-400 hover:text-primary-500"),children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(x.Z,{className:"w-5 h-5"}),"Profiles (",y.length,")"]})}),(0,r.jsx)("button",{onClick:()=>u("roles"),className:"px-6 py-3 font-semibold transition-colors ".concat("roles"===h?"text-primary-600 dark:text-primary-400 border-b-2 border-primary-500":"text-secondary-600 dark:text-secondary-400 hover:text-primary-500"),children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(m,{className:"w-5 h-5"}),"Roles (",b.length,")"]})})]}),"analytics"===h&&g&&(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{className:"bg-white dark:bg-secondary-800 rounded-xl shadow-lg p-6",children:[(0,r.jsx)("p",{className:"text-sm text-secondary-600 dark:text-secondary-400 mb-1",children:"Total Quiz Results"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-secondary-900 dark:text-white",children:g.totalResults})]}),(0,r.jsxs)("div",{className:"bg-white dark:bg-secondary-800 rounded-xl shadow-lg p-6",children:[(0,r.jsx)("p",{className:"text-sm text-secondary-600 dark:text-secondary-400 mb-1",children:"Unique Types"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-secondary-900 dark:text-white",children:g.typeDistribution.length})]}),(0,r.jsxs)("div",{className:"bg-white dark:bg-secondary-800 rounded-xl shadow-lg p-6",children:[(0,r.jsx)("p",{className:"text-sm text-secondary-600 dark:text-secondary-400 mb-1",children:"Most Common Type"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-primary-600 dark:text-primary-400",children:(null===(e=g.typeDistribution[0])||void 0===e?void 0:e.type)||"N/A"})]})]}),(0,r.jsxs)("div",{className:"bg-white dark:bg-secondary-800 rounded-xl shadow-lg p-8",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-secondary-900 dark:text-white mb-6",children:"Personality Type Distribution"}),(0,r.jsx)("div",{className:"space-y-3",children:g.typeDistribution.map(e=>(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,r.jsx)("span",{className:"font-medium text-secondary-900 dark:text-white",children:e.type}),(0,r.jsxs)("span",{className:"text-secondary-600 dark:text-secondary-400",children:[e.count," (",(e.count/g.totalResults*100).toFixed(1),"%)"]})]}),(0,r.jsx)("div",{className:"w-full bg-secondary-200 dark:bg-secondary-700 rounded-full h-2",children:(0,r.jsx)("div",{className:"bg-primary-500 h-2 rounded-full transition-all",style:{width:"".concat(e.count/g.totalResults*100,"%")}})})]},e.type))})]})]}),"profiles"===h&&(0,r.jsxs)("div",{className:"bg-white dark:bg-secondary-800 rounded-xl shadow-lg p-8",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-secondary-900 dark:text-white",children:"Personality Profiles"}),(0,r.jsx)("button",{className:"px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg font-semibold",children:"Add New Profile"})]}),(0,r.jsx)("div",{className:"space-y-4",children:y.map(e=>(0,r.jsxs)("div",{className:"p-6 bg-secondary-50 dark:bg-secondary-700 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-xl font-bold text-primary-600 dark:text-primary-400 mb-1",children:e.type_code}),(0,r.jsx)("p",{className:"text-lg font-semibold text-secondary-900 dark:text-white",children:e.name})]}),(0,r.jsxs)("button",{className:"flex items-center gap-2 px-3 py-2 bg-white dark:bg-secondary-600 text-secondary-700 dark:text-secondary-300 rounded-lg text-sm font-medium hover:shadow-md transition-all",children:[(0,r.jsx)(m,{className:"w-4 h-4"}),"Edit"]})]}),(0,r.jsx)("p",{className:"text-sm text-secondary-600 dark:text-secondary-400 mb-3",children:e.description}),(0,r.jsxs)("div",{className:"flex gap-2 text-xs text-secondary-500 dark:text-secondary-500",children:[(0,r.jsxs)("span",{children:[e.strengths.length," strengths"]}),(0,r.jsx)("span",{children:"•"}),(0,r.jsxs)("span",{children:[e.challenges.length," challenges"]}),(0,r.jsx)("span",{children:"•"}),(0,r.jsxs)("span",{children:[e.work_preferences.length," preferences"]})]})]},e.id))})]}),"roles"===h&&(0,r.jsxs)("div",{className:"bg-white dark:bg-secondary-800 rounded-xl shadow-lg p-8",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-secondary-900 dark:text-white",children:"Tech Roles"}),(0,r.jsx)("button",{className:"px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg font-semibold",children:"Add New Role"})]}),(0,r.jsx)("div",{className:"grid md:grid-cols-2 gap-4",children:b.map(e=>(0,r.jsxs)("div",{className:"p-6 bg-secondary-50 dark:bg-secondary-700 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,r.jsx)("h3",{className:"text-lg font-bold text-secondary-900 dark:text-white",children:e.name}),(0,r.jsx)("button",{className:"text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300",children:(0,r.jsx)(m,{className:"w-4 h-4"})})]}),(0,r.jsx)("p",{className:"text-sm text-secondary-600 dark:text-secondary-400 mb-3",children:e.description}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2",children:[e.skills.slice(0,3).map((e,t)=>(0,r.jsx)("span",{className:"px-2 py-1 bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300 rounded text-xs",children:e},t)),e.skills.length>3&&(0,r.jsxs)("span",{className:"px-2 py-1 text-secondary-500 text-xs",children:["+",e.skills.length-3," more"]})]})]},e.id))})]})]})})}},52582:function(e,t,s){"use strict";s.d(t,{AuthProvider:function(){return i},a:function(){return d}});var r=s(57437),a=s(2265),n=s(5526);let l=(0,a.createContext)({user:null,session:null,loading:!0,signOut:async()=>{}});function d(){let e=(0,a.useContext)(l);if(!e)throw Error("useAuth must be used within AuthProvider");return e}function i(e){let{children:t}=e,[s,d]=(0,a.useState)(null),[i,c]=(0,a.useState)(null),[o,x]=(0,a.useState)(!0),m=(0,n.eI)();(0,a.useEffect)(()=>{m.auth.getSession().then(e=>{let{data:{session:t}}=e;c(t),d(null==t?void 0:t.user),x(!1)});let{data:{subscription:e}}=m.auth.onAuthStateChange((e,t)=>{c(t),d(null==t?void 0:t.user),x(!1)});return()=>e.unsubscribe()},[m]);let h=async()=>{await m.auth.signOut()};return(0,r.jsx)(l.Provider,{value:{user:s,session:i,loading:o,signOut:h},children:t})}},5526:function(e,t,s){"use strict";s.d(t,{eI:function(){return a}});var r=s(7903);function a(){return(0,r.AY)("https://qpjgeuonakbnhdkmkrhl.supabase.co","sb_publishable_ojj4hci2Q0M5Gcrd8Wt98Q_H5oFdzFR")}}},function(e){e.O(0,[903,971,117,744],function(){return e(e.s=86516)}),_N_E=e.O()}]);