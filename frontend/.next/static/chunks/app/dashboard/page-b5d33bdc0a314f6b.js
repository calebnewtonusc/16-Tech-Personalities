(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{43864:function(e,t,r){Promise.resolve().then(r.bind(r,18728))},79205:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var a=r(2265);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&r.indexOf(e)===t).join(" ")};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:i="",children:d,iconNode:u,...h}=e;return(0,a.createElement)("svg",{ref:t,...c,width:s,height:s,stroke:r,strokeWidth:l?24*Number(o)/Number(s):o,className:n("lucide",i),...h},[...u.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),l=(e,t)=>{let r=(0,a.forwardRef)((r,c)=>{let{className:l,...i}=r;return(0,a.createElement)(o,{ref:c,iconNode:t,className:n("lucide-".concat(s(e)),l),...i})});return r.displayName="".concat(e),r}},64972:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]])},27648:function(e,t,r){"use strict";r.d(t,{default:function(){return s.a}});var a=r(72972),s=r.n(a)},99376:function(e,t,r){"use strict";var a=r(35475);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},18728:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return f}});var a=r(57437),s=r(2265),n=r(99376),c=r(27648),o=r(52582),l=r(5526),i=r(79205);let d=(0,i.Z)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),u=(0,i.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var h=r(64972);let x=(0,i.Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),m=(0,i.Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var y=r(93448);function f(){var e;let t=(0,n.useRouter)(),{user:r,signOut:i,loading:f}=(0,o.a)(),[p,g]=(0,s.useState)([]),[b,v]=(0,s.useState)(!0);async function k(){let e=(0,l.eI)(),{data:t}=await e.from("quiz_results").select("*").eq("user_id",r.id).order("created_at",{ascending:!1});t&&g(await Promise.all(t.map(async t=>{let{data:r}=await e.from("personality_profiles").select("*").eq("type_code",t.personality_type).single();return{...t,profile:r}}))),v(!1)}(0,s.useEffect)(()=>{if(!f&&!r){t.push("/auth/login");return}r&&k()},[r,f,t]);let w=async()=>{await i(),t.push("/")};return f||b?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-white to-primary-50 dark:from-secondary-950 dark:to-secondary-900",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary-500 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-secondary-600 dark:text-secondary-400",children:"Loading dashboard..."})]})}):(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-white to-primary-50 dark:from-secondary-950 dark:to-secondary-900 py-8",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-secondary-900 dark:text-white mb-2",children:"My Dashboard"}),(0,a.jsxs)("p",{className:"text-secondary-600 dark:text-secondary-400",children:["Welcome back, ",null==r?void 0:r.email]})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsxs)(c.default,{href:"/quiz",className:"flex items-center gap-2 px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg font-semibold shadow-md hover:shadow-lg transition-all",children:[(0,a.jsx)(d,{className:"w-5 h-5"}),"Retake Quiz"]}),(0,a.jsxs)("button",{onClick:w,className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-secondary-800 text-secondary-700 dark:text-secondary-300 rounded-lg font-medium shadow-md hover:shadow-lg transition-all",children:[(0,a.jsx)(u,{className:"w-5 h-5"}),"Sign Out"]})]})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[(0,a.jsx)("div",{className:"bg-white dark:bg-secondary-800 rounded-xl shadow-lg p-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)(h.Z,{className:"w-8 h-8 text-primary-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Quizzes Taken"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-secondary-900 dark:text-white",children:p.length})]})]})}),p.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"bg-white dark:bg-secondary-800 rounded-xl shadow-lg p-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)(x,{className:"w-8 h-8 text-primary-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Latest Result"}),(0,a.jsx)("p",{className:"text-lg font-bold text-secondary-900 dark:text-white",children:p[0].personality_type})]})]})}),(0,a.jsx)("div",{className:"bg-white dark:bg-secondary-800 rounded-xl shadow-lg p-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)(m,{className:"w-8 h-8 text-primary-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Latest Type"}),(0,a.jsx)("p",{className:"text-lg font-bold text-secondary-900 dark:text-white",children:null===(e=p[0].profile)||void 0===e?void 0:e.name})]})]})})]})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-secondary-800 rounded-xl shadow-lg p-8",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-secondary-900 dark:text-white mb-6",children:"Your Quiz Results"}),0===p.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(h.Z,{className:"w-16 h-16 text-secondary-300 dark:text-secondary-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-secondary-600 dark:text-secondary-400 mb-4",children:"You haven't taken the quiz yet"}),(0,a.jsxs)(c.default,{href:"/quiz",className:"inline-flex items-center gap-2 px-6 py-3 bg-primary-500 hover:bg-primary-600 text-white rounded-lg font-semibold shadow-md hover:shadow-lg transition-all",children:[(0,a.jsx)(d,{className:"w-5 h-5"}),"Take Your First Quiz"]})]}):(0,a.jsx)("div",{className:"space-y-4",children:p.map(e=>{var t;return(0,a.jsx)(c.default,{href:"/results/".concat(e.id),className:"block p-6 bg-secondary-50 dark:bg-secondary-700 hover:bg-secondary-100 dark:hover:bg-secondary-600 rounded-lg transition-colors",children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)("h3",{className:"text-2xl font-bold text-primary-600 dark:text-primary-400",children:e.personality_type}),(0,a.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat(e.is_public?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300":"bg-secondary-200 dark:bg-secondary-600 text-secondary-700 dark:text-secondary-300"),children:e.is_public?"Public":"Private"})]}),(0,a.jsx)("p",{className:"text-lg font-semibold text-secondary-900 dark:text-white mb-1",children:null===(t=e.profile)||void 0===t?void 0:t.name}),(0,a.jsx)("p",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:(0,y.SY)(e.created_at)})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-sm text-secondary-600 dark:text-secondary-400 mb-1",children:"Spectrum Scores"}),(0,a.jsxs)("div",{className:"text-xs text-secondary-500 dark:text-secondary-500 space-y-1",children:[(0,a.jsxs)("div",{children:["Focus: ",e.focus_score,"%"]}),(0,a.jsxs)("div",{children:["Interface: ",e.interface_score,"%"]}),(0,a.jsxs)("div",{children:["Change: ",e.change_score,"%"]})]})]})]})},e.id)})})]})]})})}},52582:function(e,t,r){"use strict";r.d(t,{AuthProvider:function(){return l},a:function(){return o}});var a=r(57437),s=r(2265),n=r(5526);let c=(0,s.createContext)({user:null,session:null,loading:!0,signOut:async()=>{}});function o(){let e=(0,s.useContext)(c);if(!e)throw Error("useAuth must be used within AuthProvider");return e}function l(e){let{children:t}=e,[r,o]=(0,s.useState)(null),[l,i]=(0,s.useState)(null),[d,u]=(0,s.useState)(!0),h=(0,n.eI)();(0,s.useEffect)(()=>{h.auth.getSession().then(e=>{let{data:{session:t}}=e;i(t),o(null==t?void 0:t.user),u(!1)});let{data:{subscription:e}}=h.auth.onAuthStateChange((e,t)=>{i(t),o(null==t?void 0:t.user),u(!1)});return()=>e.unsubscribe()},[h]);let x=async()=>{await h.auth.signOut()};return(0,a.jsx)(c.Provider,{value:{user:r,session:l,loading:d,signOut:x},children:t})}},5526:function(e,t,r){"use strict";r.d(t,{eI:function(){return s}});var a=r(7903);function s(){return(0,a.AY)("https://qpjgeuonakbnhdkmkrhl.supabase.co","sb_publishable_ojj4hci2Q0M5Gcrd8Wt98Q_H5oFdzFR")}},93448:function(e,t,r){"use strict";r.d(t,{SY:function(){return n},cn:function(){return s},fZ:function(){return c},tO:function(){return l},vQ:function(){return o}});var a=r(61994);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.W)(t)}function n(e){let t=new Date(e),r=Math.floor((new Date().getTime()-t.getTime())/1e3);for(let e of[{label:"year",seconds:31536e3},{label:"month",seconds:2592e3},{label:"day",seconds:86400},{label:"hour",seconds:3600},{label:"minute",seconds:60},{label:"second",seconds:1}]){let t=Math.floor(r/e.seconds);if(t>=1)return"".concat(t," ").concat(e.label).concat(t>1?"s":""," ago")}return"just now"}function c(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"".concat("http://localhost:3000","/results/").concat(e).concat(t?"?public=true":"")}async function o(e){try{return await navigator.clipboard.writeText(e),!0}catch(e){return console.error("Failed to copy to clipboard:",e),!1}}let l={get(e,t){try{let r=window.localStorage.getItem(e);return r?JSON.parse(r):t}catch(r){return console.error('Error reading from localStorage key "'.concat(e,'":'),r),t}},set(e,t){try{return window.localStorage.setItem(e,JSON.stringify(t)),!0}catch(t){return console.error('Error writing to localStorage key "'.concat(e,'":'),t),!1}},remove(e){try{return window.localStorage.removeItem(e),!0}catch(t){return console.error('Error removing localStorage key "'.concat(e,'":'),t),!1}},clear(){try{return window.localStorage.clear(),!0}catch(e){return console.error("Error clearing localStorage:",e),!1}}}},61994:function(e,t,r){"use strict";function a(){for(var e,t,r=0,a="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=function e(t){var r,a,s="";if("string"==typeof t||"number"==typeof t)s+=t;else if("object"==typeof t){if(Array.isArray(t)){var n=t.length;for(r=0;r<n;r++)t[r]&&(a=e(t[r]))&&(s&&(s+=" "),s+=a)}else for(a in t)t[a]&&(s&&(s+=" "),s+=a)}return s}(e))&&(a&&(a+=" "),a+=t);return a}r.d(t,{W:function(){return a}}),t.Z=a}},function(e){e.O(0,[903,972,971,117,744],function(){return e(e.s=43864)}),_N_E=e.O()}]);